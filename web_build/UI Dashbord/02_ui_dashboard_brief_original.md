# CryptoBot Pro — UI Dashboard Design Brief

## 1. Цель и критерии успеха
- Быстрый контроль статуса бота и ручное управление стратегиями/бэктестом.
- Время до инсайта (TTR) < 5 c: пользователь сразу понимает баланс, P/L, активные позиции, риски.
- Ошибки взаимодействия < 1% (ясные состояния, понятные действия).
- Широкий экран (≥1440) — всё «под рукой», планшет/ноутбук — адаптивная компактная версия.

## 2. Персоны и сценарии
- **Trader Pro**: быстро понять ситуацию, включить/остановить стратегию, смотреть сделки/PNL.
- **Quant/Research**: менять параметры, запускать бэктест, сравнивать с предыдущими прогонами.
- **Novice**: включить демо (TESTNET), получить подсказки AI.

## 3. Информационная архитектура (верхний уровень)
1) **Топ-бар**: Logo, Symbol selector (BYBIT), TF (1m/5m/15m/1h/4h/1d), Mode (LIVE/TESTNET), Net status, «Ask AI».
2) **KPI-карточки** (фиксированно, всегда на виду):
   - Balance, P/L 24h, Positions, Margin usage/Leverage, Regime (LIVE/TESTNET), Model status.
3) **Главная зона** (двухколоночная):
   - **A. График** (Lightweight Charts v4): свечи, SMA20/50/200, сделки (BUY/SELL), SL/TP-линии, подсветка PnL, мини-бреш/мини-мапа.
   - **B. Панель стратегий/бэктеста**: параметры (risk, TP×R, max positions, day stop, drawdown stop), кнопки Run/Stop, пресеты.
4) **Нижняя полоса (табы)**:
   - Signals (лента), Positions (активные), Orders, Backtest Metrics (equity-curve %, распределение доходностей, лучшие/худшие сделки), Logs.
5) **Сайд-нотификаторы**: Toaster (успех/ошибка), Connection lost/Restored.

## 4. График — требования
- Библиотека: **Lightweight-Charts v4** (standalone). Темная тема.
- Слои:
  - Свечи + индикаторы: SMA20/50/200 (переключатели).
  - **Сделки**: маркеры BUY/SELL с ценой/временем, линии Entry/SL/TP; hover-tooltip сделки: R, расстояния до SL/TP, удержание в свечах.
  - **Equity-curve** в % на левой шкале (всегда отдельная шкала). Цена — справа; авто-scale (Scaled ×0.1/×0.01 для тестнета).
- Управление: колесо — зум, drag — панорама, кнопки диапазона (100/200/300/500/ALL), reset zoom.
- Экспорт: PNG/SVG текущего вида, копирование в буфер.

## 5. Панель стратегий/бэктеста
- Поля: Candles (N или ALL), Risk $, TP×R, Max positions, Day stop %, DD stop %, Preset select.
- Кнопки: **Run backtest**, Stop, Save preset, Compare with previous (открывает сравнение equity).
- Прогресс/состояния: idle / running / done / error.
- Ссылки: Download CSV (trades), JSON (summary).

## 6. Метрики и таблицы
- **Backtest summary**: Return %, CAGR (если есть даты), Max DD %, Win-rate %, Avg trade PnL %, Sharpe (если готовы данные), Trades count.
- Таблица сделок: Entry/Exit time, Price In/Out, PnL %, R, Duration, фильтры (период, min R, side).
- История сигналов: тайм, символ, причина входа (правило 3-свечного паттерна, подтверждение 15m).

## 7. Состояния интерфейса
- Loading (skeleton), Empty (нет данных/сделок), Error (с текстом причины), Offline (серый баннер).
- Live/Testnet бейджи с цветом (LIVE — акцент).

## 8. Адаптивность (брейкпоинты)
- ≥1440: 2 колонки (График ~70%, Панель ~30%), табы внизу.
- 1024–1439: График фулл-width, Панель — справа/сверху аккордеон.
- 768–1023: KPI сворачиваются в 2 ряда, табы — скроллятся.
- <768: одно окно, панель и табы — внизу в аккордеоне.

## 9. Доступность
- Контраст ≥ 4.5:1, фокус-кольца, ARIA для кнопок/переключателей, hotkeys:
  - R — Run backtest, Z — Reset zoom, 1/2/3/4/5 — диапазоны, I — Toggle indicators.

## 10. Локализация
- RU/EN. Все надписи — через словарь (strings.json). Длина строк учтена.

## 11. Дизайн-токены (CSS variables)
- Цвета: bg #0b1321, panel #111a2b, grid #1b2740, text #c3cee5, ok #2bb988, bad #ff6b6b, accent #4dabf7.
- Типографика: Inter/System UI; шаги 12/14/16/20/24.
- Отступы: 4/8/12/16/24/32.
- Радиусы: 8/10/12.
- Тени: лёгкие для карточек, никакой blur на графике.

## 12. Компоненты (поставить в Figma, с вариантами)
- Buttons (default/primary/destructive/ghost), Toggles, Select (symbol, timeframe), Tabs, KPI Cards, Toasts, Form fields (number, slider), Tables (sortable), Empty/Error/Loading.
- График: набор оверлеев (SMA20/50/200), маркеры сделок, линии SL/TP, equity-scale.

## 13. Потоки/прототипы
- Первый вход (пустые данные) → демо candles → запуск бэктеста.
- Переход с TESTNET на LIVE (confirm).
- Просмотр сделки: клик по маркеру → всплывашка + подсветка SL/TP.

## 14. Доставка и хэнд-офф
- Figma-файл: страницы «UI Kit», «Dashboard», «Charts», «States».
- Экспорт: иконки SVG, стили (CSS variables), redlines/measure.
- Док: объекты → dev-ссылки, названия токенов, состояние/варианты.

## 15. Негласные правила
- Не прятать критичную инфу за 2+ клика. KPI — всегда видимы.
- У правой шкалы — только цена; equity — только слева.
- Цвета сделок: BUY — зелёный, SELL — красный; SL — красная пунктирная, TP — зелёная пунктирная.

## 16. Сроки/итерации (минимум)
- В1: каркас (сетку/карточки/график/панель), 2 дня.
- В2: состояния/таблицы/токены, 2 дня.
- В3: прототипы/хэнд-офф, 1 день.

## 17. Мини-вайрфрейм (wide)
[KPI][KPI][KPI][KPI][MODE]
|            График (70%)             |  Параметры/Бэктест (30%) |
| Tabs: Signals | Positions | Orders | Backtest | Logs         |
| Content (таб) |

— Конец брифа —
